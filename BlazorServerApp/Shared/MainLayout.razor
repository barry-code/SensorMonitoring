@inherits LayoutComponentBase

<MudThemeProvider IsDarkMode="true" Theme="@_theme"/>

<MudDialogProvider />
<MudSnackbarProvider />

<PageTitle>Sensor Monitor</PageTitle>

<MudLayout>
    <MudAppBar Elevation="1" Dense="true">
        <MudIconButton Icon="@MudBlazor.Icons.Material.Filled.Menu" Color="MudBlazor.Color.Inherit" Edge="Edge.Start" OnClick="@ToggleMenu" />
        <MudSpacer />
    </MudAppBar>
    <MudDrawer @bind-Open="@_isMenuOpen" ClipMode="DrawerClipMode.Always" Elevation="1" Variant="@DrawerVariant.Temporary">
        <MudDrawerHeader>
            <MudText Typo="Typo.h6">SensorMonitor</MudText>
        </MudDrawerHeader>
        <MudNavMenu>
            <MudNavLink Href="sensors">Sensors</MudNavLink>
            <MudNavLink Href="sensorReadingSummary">Summary</MudNavLink>
            <MudNavLink Href="sensorReadingHistory">History</MudNavLink>
        </MudNavMenu>
    </MudDrawer>
    <MudMainContent Class="pt-10 px-10">
        <CascadingValue Value="_theme">
            <MudContainer Class="mt-5">            
                @Body
            </MudContainer>
        </CascadingValue>        
    </MudMainContent>
</MudLayout>

@code 
{
    MudTheme _theme = new();

    bool _isMenuOpen = false;

    void ToggleMenu()
    {
        _isMenuOpen = !_isMenuOpen;
    }
}
